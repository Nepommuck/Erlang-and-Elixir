<div id="page">
    <h2 class="sectionedit1" id="laboratorium_nr_5_-_podstawy_jezyka_elixir">Laboratorium nr 5 - podstawy języka Elixir</h2>
    <div class="level2">
    
    <p>
    <br>
    
    </p>
    <hr>
    
    <p>
    <br>
    
    </p>
    
    </div>
    
    <h4 id="przed_zajeciami_prosze_o">Przed zajęciami proszę o:</h4>
    <div class="level4">
    <ol>
    <li class="level1"><div class="li"> Uruchomienie interpretera iex lub LiveBook</div>
    </li>
    <li class="level1 node"><div class="li"> Zapoznanie ze składnią Elixira:</div>
    <ol>
    <li class="level2"><div class="li"> Atomy, zmienne, {kro,tki}, [lis,ty], %{ma: :py}, …</div>
    </li>
    <li class="level2"><div class="li"> Podstawowe operatory matematyczne, logiczne, …</div>
    </li>
    <li class="level2"><div class="li"> Moduły, funkcje, …</div>
    </li>
    </ol>
    </li>
    <li class="level1"><div class="li"> Zaimplementowanie w pliku i przetestowanie w interpreterze modułu, który zawiera funkcję liczącą silnię.</div>
    </li>
    </ol>
    
    <p>
    <br>
    
    </p>
    
    </div>
    
    <h4 id="cele_cwiczenia">Cele ćwiczenia</h4>
    <div class="level4">
    <ol>
    <li class="level1"><div class="li"> Zapoznanie ze składnią języka Elixir, </div>
    </li>
    <li class="level1"><div class="li"> Poznanie koncepcji potoków,</div>
    </li>
    <li class="level1"><div class="li"> Integracja Elixira i Erlanga. </div>
    </li>
    </ol>
    
    <p>
    <br>
    
    </p>
    
    </div>
    
    <h4 id="przebieg_zajec">Przebieg zajęć</h4>
    <div class="level4">
    
    <p>
    W ramach zajęć zrealizujemy funkcjonalność parsowania danych o zanieczyszczeniu powietrza z pliku 
    i ich ładowania do modułu pollution_server. 
    <a href="/~wojturek/dokuwiki/lib/exe/fetch.php?media=student:erlang:pollution.csv.zip" class="media mediafile mf_zip" title="student:erlang:pollution.csv.zip (35.8&nbsp;KB)">Plik</a> zawiera w kolejnych wierszach następujące dane: 
    </p>
    
    <p>
    03-05-2017,00:02,19.992,50.081,96<br>
    
    03-05-2017,00:58,19.727,49.989,94<br>
    
    03-05-2017,00:15,19.678,49.989,76
    </p>
    
    <p>
    czyli:
    </p>
    
    <p>
    DATA,GODZINA,DLUGOSC,SZEROKOSC,WARTOSC
    </p>
    
    <p>
    <br>
    
    <br>
    
    Przy implementacji korzystaj z operatora strumieni <strong>|&gt;</strong> kod będzie znacznie łatwiejszy do zrozumienia.
    </p>
    
    <p>
    Przed przystąpieniem do implementacji przeczytaj cały punkt, w wielu miejscach sugerowane są ułatwienia. 
    </p>
    
    <p>
    Kolejne punkty realizuj w osobnych blokach kodu.
    </p>
    <ol>
    <li class="level1 node"><div class="li"> Import z pliku. Załaduj dane do listy; przyda się: </div>
    <ul>
    <li class="level2"><div class="li"> File.read!(„file.txt”)</div>
    </li>
    <li class="level2"><div class="li"> String.split(„string”, „delimiter”)</div>
    </li>
    <li class="level2"><div class="li"> … warto użyć: <strong>File.read!(…) |&gt; String.split(…)</strong></div>
    </li>
    <li class="level2"><div class="li"> By sprawdzić co się załadowało użyj length(list) - w pliku jest nieco ponad 5900 wpisów</div>
    </li>
    </ul>
    </li>
    <li class="level1 node"><div class="li"> Parsowanie danych. Zdefiniuj moduł i napisz funkcję konwertującą <strong>jedną linijkę danych</strong> do postaci: %{:datetime ⇒ { {2017, 5, 22}, {13, 23, 30} }, :location ⇒ {19.992,50.081}, :pollutionLevel ⇒ 96}. Przydadzą się: </div>
    <ul>
    <li class="level2"><div class="li"> [pattern, matching, on, list] =  String.split(…</div>
    </li>
    <li class="level2"><div class="li"> Enum.reverse</div>
    </li>
    <li class="level2"><div class="li"> Enum.map(list, fn)</div>
    </li>
    <li class="level2"><div class="li"> Integer.parse(„1234”), Float.parse(„1234.3”) </div>
    </li>
    <li class="level2"><div class="li"> elem(tuple,0)</div>
    </li>
    <li class="level2"><div class="li"> :erlang.list_to_tuple</div>
    </li>
    <li class="level2"><div class="li"> … tu również warto użyć: <strong> date |&gt; …split… |&gt; …reverse… |&gt; …map(elem(parse))… </strong> </div>
    </li>
    <li class="level2"><div class="li"> … można zdefiniować funkcje pomocnicze</div>
    </li>
    </ul>
    </li>
    <li class="level1 node"><div class="li"> Identyfikacja stacji pomiarowych. Dane załadowane do struktur trzeba przeanalizować w celu wykrycia stacji pomiarowych. Utwórz funkcję identifyStations, która zwróci dane potrzebne do utworzenia stacji. </div>
    <ul>
    <li class="level2"><div class="li"> można użyć: Enum.uniq_by(enumerable, fun)</div>
    </li>
    <li class="level2"><div class="li"> ile jest unikatowych stacji w danych? Powiedz na głos, jeśli obliczysz tą wartość. </div>
    </li>
    </ul>
    </li>
    <li class="level1 node"><div class="li"> Startowanie aplikacji <em>pollution_app</em></div>
    <ul>
    <li class="level2"><div class="li"> dodaj ścieżkę do zbudowanej aplikacji do interpretera, używając <em>Code.append_path(„Path/To/app/ebin”)</em></div>
    </li>
    <li class="level2"><div class="li"> wystartuj aplikację używając <em>Application.start(:pollution_app)</em></div>
    </li>
    </ul>
    </li>
    <li class="level1 node"><div class="li"> Ładowanie danych stacji. Utwórz stacje, generując ich nazwy w postaci „station_longitude_latitude”. Przyda się:</div>
    <ul>
    <li class="level2"><div class="li"> string = „ala ma #{catsCount} kotow”</div>
    </li>
    </ul>
    </li>
    <li class="level1 node"><div class="li"> Ładowanie danych pomiarów. Załaduj dane wszystkich pomiarów, przyjmując rodzaj zanieczyszczeń jako „PM10”. Zmierz czas ładowania, wyniki wpisz do <a href="https://docs.google.com/spreadsheets/d/1aFEucODRec5Hwc3PHsr6-GEXjy6LmdC9qvKbwlEB-a4/edit?usp=sharing" class="urlextern" title="https://docs.google.com/spreadsheets/d/1aFEucODRec5Hwc3PHsr6-GEXjy6LmdC9qvKbwlEB-a4/edit?usp=sharing" rel="ugc nofollow">arkusza</a>. Można użyć:</div>
    <ul>
    <li class="level2"><div class="li"> fn |&gt; :timer.tc |&gt; elem(0)</div>
    </li>
    </ul>
    </li>
    <li class="level1"><div class="li"> Analiza danych. Zmierz wartości wybranych analiz parametrów zanieczyszczeń i wpisz je do <a href="https://docs.google.com/spreadsheets/d/1aFEucODRec5Hwc3PHsr6-GEXjy6LmdC9qvKbwlEB-a4/edit?usp=sharing" class="urlextern" title="https://docs.google.com/spreadsheets/d/1aFEucODRec5Hwc3PHsr6-GEXjy6LmdC9qvKbwlEB-a4/edit?usp=sharing" rel="ugc nofollow">arkusza</a>. Przetestuj funkcje analizujące w swojej implementacji korzystając z przykładowych wywołań w arkuszu.</div>
    </li>
    <li class="level1 node"><div class="li"> Modyfikacja ładowania [zadanie dodatkowe]. Przeprowadź refaktoring, który wprowadzi wykorzystanie strumieni w ładowaniu danych. Porównaj czas ładowania. Wykorzystaj: </div>
    <ul>
    <li class="level2"><div class="li"> File.stream!(filename)</div>
    </li>
    <li class="level2"><div class="li"> Stream.map, Stream.flat_map, Stream.filter</div>
    </li>
    <li class="level2"><div class="li"> stream |&gt; Enum.reduce</div>
    </li>
    </ul>
    </li>
    </ol>
    
    <p>
    <br>
    
    </p>
    
    </div>
    
    <h4 id="zadanie_domowe">Zadanie domowe</h4>
    <div class="level4">
    <ul>
    <li class="level1"><div class="li"> Dokończ zadania z zajęć. </div>
    </li>
    <li class="level1"><div class="li"> Zbuduj moduł Elixirowy, który będzie zawierał wszystkie funkcje pozwalające na ładowanie danych z pliku. </div>
    </li>
    </ul>
    
    </div>
    
        
        
                <div class="meta">
                  <div class="user">
                  Zalogowany jako: <bdi>Student </bdi> (<bdi>erlang</bdi>)			  </div>
                  <div class="doc">
                  <bdi>student/erlang/elab5-2023.txt</bdi> · ostatnio zmienione: 2023/05/23 14:38 przez <bdi>wtur</bdi>			  </div>
                </div>
        
        </div>